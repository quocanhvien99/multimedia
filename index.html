<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Bài tập lớn multimedia</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="stylesheet"
			href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="src/LTU.js"></script>
		<style>
			.row.content {
				height: fit-content;
			}

			.sidenav {
				background-color: #f1f1f1;
				height: 100%;
			}

			footer {
				background-color: #555;
				color: white;
				padding: 15px;
			}

			#canvas {
				width: 100%;
				height: auto;
			}

			@media screen and (max-width: 767px) {
				.sidenav {
					height: auto;
					padding: 15px;
				}
				.row.content {
					height: auto;
				}
			}
		</style>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row content">
				<div class="col-sm-12">
					<h1>LTU16A <small>The Image Processing</small></h1>
					<hr />
					<span
						class="btn btn-info"
						onclick="document.getElementById('image-chooser').click();"
						>Upload Image</span
					>
					<div class="alert alert-warning" id="error" style="display: none">
						<strong>Error!</strong> You didn't upload any image yet.
					</div>

					<hr />
					<div class="btn-group" id="filters" style="display: none">
						<h3>Filters:</h3>
						<button
							class="btn btn-success"
							onclick="loadImage(document.getElementById('image-chooser'))"
						>
							Reset
						</button>
						<button class="btn btn-success" onclick="filter(0)">
							Black and White
						</button>
						<button class="btn btn-success" onclick="filter(12)">
							Black and White 2
						</button>
						<button class="btn btn-success" onclick="filter(4)">Red</button>
						<button class="btn btn-success" onclick="filter(5)">Green</button>
						<button class="btn btn-success" onclick="filter(6)">Blue</button>
						<button class="btn btn-success" onclick="filter(1)">Sepia</button>
						<button class="btn btn-success" onclick="filter(2)">
							Negative
						</button>
						<button class="btn btn-success" onclick="filter(3)">Vintage</button>
						<button class="btn btn-success" onclick="filter(11)">Noise</button>
						<button class="btn btn-success" onclick="filter(13)">Crayon</button>
						<button class="btn btn-success" onclick="filter(14)">
							Cartoonify
						</button>
						<button class="btn btn-success" onclick="filter(7)">
							Brightness +1
						</button>
						<button class="btn btn-success" onclick="filter(8)">
							Brightness -1
						</button>
						<button class="btn btn-success" onclick="filter(9)">
							Contrast +1
						</button>
						<button class="btn btn-success" onclick="filter(10)">
							Contrast -1
						</button>
						<button class="btn btn-success" onclick="filter(16)">
							Opacity -10
						</button>
						<button class="btn btn-success" onclick="filter(17)">
							Opacity +10
						</button>
					</div>
					<input
						type="file"
						id="image-chooser"
						style="display: none"
						onchange="loadImage(this)"
					/>
					<canvas id="canvas" width="600" height="600" class="well"></canvas>
				</div>
			</div>
		</div>

		<footer class="container-fluid">
			<p style="text-align: center">
				&copy; 2020 LTU16A - Lương Ngọc Đức - Viên Quốc Anh - Võ Trí Anh
			</p>
		</footer>
	</body>
	<script type="text/javascript">
		var imgObj = null; //global LTU object
		function loadImage(elem) {
			imgObj = new LTU(elem);
			imgObj.ready(function () {
				this.canvas = document.getElementById('canvas');
				this.loadImageToCanvas();

				//show filters to users
				document.getElementById('filters').style.display = 'block';
			});
		}

		//0 -> Black and white
		//12 -> Black and white2
		//1 -> sepia
		//2 -> negative
		//3 -> vintage
		//4 -> red
		//5 -> green
		//6 -> blue
		//7 -> Brightness increase
		//8 -> Brightness decrease
		//9 -> Contrast increase
		//10 -> Contrast decrease
		//11 -> noise
		//13 -> Crayon
		//14 -> Cartoon
		//15 -> Vignette
		//16 -> Opacity increase
		//16 -> Opacity decrease
		function filter(id) {
			if (imgObj == null) {
				alert('Choose an image first!');
				return;
			}
			if (id == 0) {
				imgObj.blackAndWhite();
			} else if (id == 1) {
				imgObj.sepia();
			} else if (id == 2) {
				imgObj.negative();
			} else if (id == 3) {
				imgObj.vintage();
			} else if (id == 4) {
				imgObj.red();
			} else if (id == 5) {
				imgObj.green();
			} else if (id == 6) {
				imgObj.blue();
			} else if (id == 7) {
				imgObj.brightness(1);
			} else if (id == 8) {
				imgObj.brightness(-1);
			} else if (id == 9) {
				imgObj.contrast(1);
			} else if (id == 10) {
				imgObj.contrast(-1);
			} else if (id == 11) {
				imgObj.noise();
			} else if (id == 12) {
				imgObj.blackAndWhite2();
			} else if (id == 13) {
				imgObj.crayon();
			} else if (id == 14) {
				imgObj.cartoon();
			} else if (id == 15) {
				imgObj.vignette();
			} else if (id == 16) {
				imgObj.opacity(-10);
			} else if (id == 17) {
				imgObj.opacity(+10);
			}

			imgObj.loadImageToCanvas();
		}
	</script>
</html>
